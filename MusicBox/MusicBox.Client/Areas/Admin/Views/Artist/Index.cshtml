@using MusicBox.Areas.Admin.Models.Artists
@using NonFactors.Mvc.Grid;

@model IEnumerable<GetArtistsViewModel>


@{
    ViewBag.Title = "Index";
}


<h2>Artists</h2>

<p>
    @Html.ActionLink("Create artist", "Create")
</p>


@(Html
    .Grid(Model)
    .Build(columns =>
    {
        columns.Add().RenderedAs((model, row) => row + 1).Titled("#").Sortable(false);

        columns.Add(model => " <img src="+@Url.Action("RenderImage", new { id = model.Id })+" alt='' height=45 width=45 />  ").Sortable(false).Encoded(false); ;

        columns.Add(model => model.Title).Titled("Artist title");
        columns.Add(model => model.NumberOfAlbums).Titled("Artist number of albums").Sortable(true);

        columns.Add(model => model.NumberOfTracks).Titled("Artist number of tracks");
        columns.Add(model => Html.ActionLink("Details", "Details", new { id = model.Id }) + " | " +
        Html.ActionLink("Edit", "Edit", new { id = model.Id }) + " | " +
        Html.ActionLink("Delete", "Delete", new { id = model.Id })).Titled("Actions").Sortable(false).Encoded(false); ;
    })
    .Empty("No data found")
    .Filterable()
    .Sortable()
    .Pageable()
)




@section Scripts {
    @Scripts.Render("~/bundles/mvc-grid")
}